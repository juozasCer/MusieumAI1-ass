(()=>{"use strict";var e,t={855:(e,t,n)=>{n.d(t,{U:()=>S});var o=n(964),i=n(318),a=n(888),s=n(44),r=n(302);const d=new o.Pq0,l=new o.Pq0;let c=!1,h=!1,w=!1,m=!1;document.addEventListener("keydown",(e=>{switch(e.code){case"KeyW":c=!0;break;case"KeyA":w=!0;break;case"KeyS":h=!0;break;case"KeyD":m=!0}}),!1),document.addEventListener("keyup",(e=>{switch(e.code){case"KeyW":c=!1;break;case"KeyA":w=!1;break;case"KeyS":h=!1;break;case"KeyD":m=!1}}),!1);const p=document.createElement("canvas");p.width=4096,p.height=2048;const u=p.getContext("2d"),y="アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=Math.max(1,Math.floor(p.width/12)),f=Array(g).fill(1);let x=0;const v=new o.GOR(p);v.wrapS=o.GJx,v.wrapT=o.ghU,v.repeat.set(1,1),v.minFilter=o.NZq,v.magFilter=o.k6q;const b=new o.Gu$(500,64,64),k=new o.V9B({map:v,side:o.hsX}),E=new o.eaF(b,k);var M=n(656),F=n(571),P=n.n(F);r.g.init();const z=new o.Z58;z.background=new o.Q1f(0);const I=new o.ubm(70,window.innerWidth/window.innerHeight,.1,1e3);I.position.set(0,1.6,0);const S=new o.JeP({antialias:!0});S.setSize(window.innerWidth,window.innerHeight),S.setPixelRatio(window.devicePixelRatio),S.shadowMap.enabled=!0,S.shadowMap.type=o.Wk7,document.body.appendChild(S.domElement);const O=new i.Z(I,S.domElement);z.add(O.getObject());let _=!1,j=!1;const L=new(P());L.showPanel(0),document.body.appendChild(L.dom),document.addEventListener("click",(()=>{j&&!O.isLocked&&setTimeout((()=>{O.lock()}),300)}),!1),O.addEventListener("lock",(()=>{const e=document.getElementById("instructions"),t=document.getElementById("blocker");e&&t&&(e.style.display="none",t.style.display="none"),_||(function(e){v.anisotropy=S.capabilities.getMaxAnisotropy(),e.add(E)}(z),_=!0)})),O.addEventListener("unlock",(()=>{const e=document.getElementById("instructions"),t=document.getElementById("blocker");e&&t&&(t.style.display="block",e.style.display="")}));const q=new o.KPJ,A=document.getElementById("loading-screen"),B=document.getElementById("progress-bar");let T=0,H=0;q.onStart=function(e,t,n){console.log(`Started loading: ${e}.`),A.style.display="flex",T+=1},q.onLoad=function(){console.log("All assets loaded."),A.style.display="none";const e=document.getElementById("blocker");e&&(e.style.display="block"),j=!0},q.onProgress=function(e,t,n){H+=1;const o=H/T*2.2;B.style.width=`${o}%`},q.onError=function(e){console.error(`There was an error loading ${e}`)};const K=new o.Tap(q),W=new a.B(q);class R{constructor(e,t,n,i,a,s=0,r=t){this.light=new o.HiM(e,t,n),this.light.position.copy(i),z.add(this.light),this.speed=a,this.minIntensity=s,this.maxIntensity=r,this.helper=new o.F1l(this.light,1)}update(e){this.light.intensity=this.minIntensity+(this.maxIntensity-this.minIntensity)*(Math.sin(e*this.speed)+1)/2}}const C=[];function N(e={x:0,y:0,z:0},t={width:2,height:8},n=16777215,i=8,a={x:0,y:0,z:0}){const r=new o.ure(n,i,t.width,t.height);return r.position.set(e.x,e.y,e.z),r.lookAt(a.x,a.y,a.z),z.add(r),new s.g(r),r}function G(e,t,n){const i=document.createElement("video");i.src=n,i.loop=!0,i.muted=!0,i.load(),i.addEventListener("canplaythrough",(()=>{console.log(`Video ${n} is ready to play.`),i.play();const a=new o.Nv2(i);a.minFilter=o.k6q,a.magFilter=o.k6q,a.format=o.HIg,a.flipY=!1;const s=new o._4j({map:a,emissive:new o.Q1f(16777215),emissiveIntensity:.1});e.traverse((e=>{e instanceof o.eaF&&e.name===t&&(e.material=s)}))})),i.addEventListener("error",(e=>{console.error(`Error loading video ${n}:`,e)}))}function J(e){e.wrapS=e.wrapT=o.GJx,e.repeat.set(100,100)}N({x:-2.5,y:5,z:-17},{width:.5,height:16},16777215,40,{x:-2.5,y:0,z:-17}),N({x:2.5,y:5,z:-17},{width:.5,height:16},16777215,40,{x:2.5,y:0,z:-17}),C.push(new R(255,2,10,new o.Pq0(0,1.5,-49.5),.2,0,10)),C.push(new R(16711935,20,15,new o.Pq0(0,7,0),.2,0,10)),C.push(new R(65535,20,10,new o.Pq0(0,5,0),1,0,10)),C.push(new R(16711935,20,10,new o.Pq0(8,7,0),1,10,10)),C.push(new R(16711935,20,10,new o.Pq0(-8,7,0),1,10,10)),C.push(new R(16711935,20,10,new o.Pq0(0,15,-3),1,10,10)),function(){const e=new o.bdM(80,80),t=new M.J(e,{clipBias:.003,textureWidth:window.innerWidth*window.devicePixelRatio,textureHeight:window.innerHeight*window.devicePixelRatio,color:7829367});t.rotation.x=-Math.PI/2,t.position.y=-.01,z.add(t)}(),function(){const e=K.load("./textures/blackTiles/rubber_tiles_diff_4k.jpg"),t=K.load("./textures/blackTiles/rubber_tiles_nor_gl_4k.jpg"),n=new o.bdM(80,80,512,512),i=new o._4j({map:e,normalMap:t,displacementScale:.1,metalness:.9,roughness:0,transparent:!0,opacity:.5});J(i.map),J(i.normalMap);const a=new o.eaF(n,i);a.receiveShadow=!0,a.rotation.x=-Math.PI/2,z.add(a)}(),W.load("./models/mao.glb",(e=>{const t=e.scene;t.position.set(0,0,0),t.scale.set(1.5,1.5,1.5),t.traverse((e=>{e instanceof o.eaF&&(e.castShadow=!0,e.receiveShadow=!0)})),G(t,"Screenshot_2024-11-14_125839","/media/video.mp4"),G(t,"Object_0131_1","/media/act.mp4"),t.traverse((e=>{e instanceof o.eaF&&e.name})),z.add(t)}),void 0,(e=>{console.error("An error occurred while loading the GLB model:",e)}));const D=new o.zD7,$=document.getElementById("loading-matrix"),U=$.getContext("2d");function Z(){$.width=2048,$.height=window.innerHeight}Z(),window.addEventListener("resize",Z);const Q="アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",V=Math.max(1,Math.floor($.width/16)),X=Array(V).fill(1);let Y=0;!function e(){U.fillStyle="rgba(0, 0, 0, 0.03)",U.fillRect(0,0,$.width,$.height),U.fillStyle="#FF00FF",U.font="16px CustomFont",Y%2==0&&X.forEach(((e,t)=>{const n=Q.charAt(Math.floor(119*Math.random())),o=16*t;U.fillText(n,o,16*e),X[t]++,16*e>$.height&&Math.random()>.975&&(X[t]=0)})),Y++,requestAnimationFrame(e)}(),function e(){requestAnimationFrame(e),L.begin();const t=D.getDelta(),n=D.getElapsedTime();if(!0===O.isLocked){d.x-=10*d.x*t,d.z-=10*d.z*t,l.z=Number(c)-Number(h),l.x=Number(m)-Number(w),l.normalize();const e=50;(c||h)&&(d.z-=l.z*e*t),(w||m)&&(d.x-=l.x*e*t),O.moveRight(-d.x*t),O.moveForward(-d.z*t);const n=O.getObject().position;n.x=o.cj9.clamp(n.x,-2.5,2.5),n.z=o.cj9.clamp(n.z,-23,2)}_&&(u.fillStyle="rgba(0, 0, 0, 0.05)",u.fillRect(0,0,p.width,p.height),u.fillStyle="#FF00FF",u.font="12px monospace",x%3==0&&f.forEach(((e,t)=>{const n=y.charAt(Math.floor(119*Math.random())),o=12*t;u.fillText(n,o,12*e),f[t]++,12*e>p.height&&Math.random()>.975&&(f[t]=0)})),x++,v.needsUpdate=!0,E.position.copy(I.position)),C.forEach(((e,t)=>{e.update(n)})),S.render(z,I),L.end()}(),window.addEventListener("resize",(function(){I.aspect=window.innerWidth/window.innerHeight,I.updateProjectionMatrix(),S.setSize(window.innerWidth,window.innerHeight),Z()}))}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,i,a)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,i,a]=e[c],r=!0,d=0;d<n.length;d++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](n[d])))?n.splice(d--,1):(r=!1,a<s&&(s=a));if(r){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[s,r,d]=n,l=0;if(s.some((t=>0!==e[t]))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(d)var c=d(o)}for(t&&t(n);l<s.length;l++)a=s[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(c)},n=self.webpackChunkthreejs_example=self.webpackChunkthreejs_example||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[440],(()=>o(855)));i=o.O(i)})();